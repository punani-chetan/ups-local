<!DOCTYPE html>
<html lang="en">



<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UPS</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous" />
  <link rel="stylesheet" type="text/css" href="style.css" />
  <!-- Option 1: Include in HTML -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />
  <script type="text/JavaScript" src=" https://MomentJS.com/downloads/moment.js"></script>
</head>

<body>
  <div class="container-fluid h-100">
    <div class="row justify-content-center h-100">
      <div class="col">
        <div class="h-100 d-flex flex-column">
          <div class="row justify-content-center">
            <nav class="navbar">
              <div class="w-100">
                <div class="mx-5 text-white d-flex flex-row">
                  <h3><b>HITACHI</b></h3>
                  <div class="d-flex justify-content-center align-items-center w-100">
                    <span class="mx-4 active-tab-border"><a href="index.html" class="header-main-menu"></a>
                      Home</a></span>
                    <span class="mx-4"><a href="configuration.html" class="header-main-menu">Configuration</a></span>
                    <span class="mx-4"><a href="https://www.hitachi-hirel.com/contact-us"
                        class="header-main-menu">Contact</a></span>
                  </div>
                </div>
              </div>
            </nav>
          </div>
          <div class="row justify-content-center flex-grow-1 main-bgcolor">
            <div class="w-100">
              <div class="mx-5">
                <div class="mt-4 d-flex justify-content-between">
                  <h4><b>UPS 1</b></h4>
                  <div><b>Date <span id="ups_date"></span> | Time <span id="ups_time"></span> </b></div>
                </div>
                <div class="mt-3">
                  <nav>

                    <div class="nav nav-tabs" id="nav-tab" role="tablist">

                      <a onclick="changeUrlParams('status')" class="nav-link active" id="nav-status-tab"
                        data-toggle="tab" href="#status" role="tab" aria-controls="status" aria-selected="true">
                        <b>
                          <i class="bi bi-check2-circle"></i><span class="m-2">Status</span>
                        </b>
                      </a>

                      <a onclick="showTab('metering')" class="nav-link" id="nav-metering-tab" data-toggle="tab"
                        role="tab" href="#metering" aria-controls="metering" aria-selected="false">
                        <b>
                          <i class="bi bi-speedometer2"></i><span class="m-2">Metering</span>
                        </b>
                      </a>

                      <a onclick="changeUrlParams('eventlog')" class="nav-link" id="nav-eventlog-tab" data-toggle="tab"
                        role="tab" href="#eventlog" aria-controls="eventlog" aria-selected="false">
                        <b>
                          <i class="bi bi-calendar-event"></i><span class="m-2">EventLog</span>
                        </b>
                      </a>

                      <a onclick="changeUrlParams('datalog')" class="nav-link" id="nav-datalog-tab" data-toggle="tab"
                        role="tab" href="#datalog" aria-controls="datalog" aria-selected="false">
                        <b>
                          <i class="bi bi-clipboard-data"></i><span class="m-2">DataLog</span>
                        </b>
                      </a>

                    </div>

                  </nav>


                  <div class="tab-content" id="nav-tabContent">
                    <div class="tab-pane fade show active" id="status" role="tabpanel" aria-labelledby="nav-status-tab">
                      <div class="mt-3">
                        <!-- <include src="status.html"></include> -->

                        <div class="row">
                          <div class="col p-3">
                            <div class="card shadow rounded">
                              <div class="card-body">
                                <table class="table table-borderless">
                                  <thead>
                                    <tr class="mt-5">
                                      <th scope="col" rowspan="2" class="align-middle">
                                        <img src="asset/blank_img.jpg" class="card-img-top img-setup" alt="Img" />
                                      </th>
                                      <th scope="col" colspan="3">Model Name</th>
                                    </tr>
                                    <tr>
                                      <th class="border-bottom" colspan="3">
                                        <h5 id="titleStr">i4ET (SINGLE PHASE UPS)</h5>
                                      </th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr>
                                      <th scope="row"></th>
                                      <td>
                                        <div id="id1">
                                          <div class="d-flex flex-column">
                                            <span><b>Bypass Input</b></span>
                                            <div class="d-flex">
                                              <div class="blinking-red" id="bypass_input_css"></div>
                                              <span class="status-card-text-space" id="bypass_input_css_text">
                                                Out of Range
                                              </span>
                                            </div>
                                          </div>
                                        </div>

                                        <!-- <div id="id2">
                                          <div class="d-flex flex-column">
                                            <span><b>Main's Supply</b></span>
                                            <div class="d-flex">
                                              <div class="dot-red" id="mainsupply_input_css"></div>
                                              <span class="status-card-text-space" id="mainsupply_input_css_text">
                                                Absent
                                              </span>
                                            </div>
                                          </div>
                                        </div> -->
                                      </td>

                                      <td>
                                        <div class="d-flex flex-column">
                                          <span><b>Main's Supply</b></span>
                                          <div class="d-flex">
                                            <div class="dot-red" id="mainsupply_input_css"></div>
                                            <span class="status-card-text-space" id="mainsupply_input_css_text">
                                              Absent
                                            </span>
                                          </div>
                                        </div>
                                      </td>

                                      <td>
                                        <div class="d-flex flex-column">
                                          <span><b>Rectifier Operation</b></span>
                                          <div class="d-flex">
                                            <div class="dot-green" id="rectifier_input_css"></div>
                                            <span class="status-card-text-space" id="rectifier_input_css_text">
                                              Within range
                                            </span>
                                          </div>
                                        </div>
                                      </td>
                                    </tr>

                                    <tr>
                                      <th scope="row"></th>
                                      <td>
                                        <div class="d-flex flex-column">
                                          <span><b>Booster Operation(Battery Discharging)</b></span>
                                          <div class="d-flex">
                                            <div class="blinking-green" id="battery_input_css"></div>
                                            <span class="status-card-text-space" id="battery_input_css_text">
                                              Ok (Within Limit)
                                            </span>
                                          </div>
                                        </div>
                                      </td>
                                      <td>
                                        <div class="d-flex flex-column">
                                          <span><b>Charger Operation (Battery Charging)</b>
                                          </span>
                                          <div class="d-flex">
                                            <div class="dot-yellow" id="battery_charging_input_css"></div>
                                            <span class="status-card-text-space" id="battery_charging_input_css_text">
                                              Ok (Within Limit)
                                            </span>
                                          </div>
                                        </div>
                                      </td>
                                      <td>
                                        <div class="d-flex flex-column">
                                          <span><b>Inverter Operation</b></span>
                                          <div class="d-flex">
                                            <div class="blinking-yellow" id="inverter_input_css"></div>
                                            <span class="status-card-text-space" id="inverter_input_css_text">
                                              Ok (Within Limit)
                                            </span>
                                          </div>
                                        </div>
                                      </td>
                                    </tr>
                                    <tr>
                                      <th scope="row"></th>
                                      <td>
                                        <div class="d-flex flex-column">
                                          <span><b>Load on Inverter</b></span>
                                          <div class="d-flex">
                                            <div class="dot-gray" id="load_inverter_input_css"></div>
                                            <span class="status-card-text-space" id="load_inverter_input_css_text">
                                              Absent </span>
                                          </div>
                                        </div>
                                      </td>
                                      <td>
                                        <div class="d-flex flex-column">
                                          <span><b>Load on Bypass</b></span>
                                          <div class="d-flex">
                                            <div class="blinking" id="load_bypass_input_css"></div>
                                            <span class="status-card-text-space" id="load_bypass_input_css_text">
                                              Ok (Within Limit)
                                            </span>
                                          </div>
                                        </div>
                                      </td>
                                      <td>
                                        <div class="d-flex flex-column">
                                          <span><b>Synchronization</b></span>
                                          <div class="d-flex">
                                            <div class="blinking" id="synchronization_input_css"></div>
                                            <span class="status-card-text-space" id="synchronization_input_css_text">
                                              Ok (Within Limit)
                                            </span>
                                          </div>
                                        </div>
                                      </td>
                                    </tr>
                                    <tr>
                                      <th scope="row"></th>
                                      <td>
                                        <div class="d-flex flex-column">
                                          <span><b>Common Alarm Indication</b></span>
                                          <div class="d-flex">
                                            <div class="blinking" id="common_alarm_input_css"></div>
                                            <span class="status-card-text-space" id="common_alarm_input_css_text">
                                              Ok (Within Limit)
                                            </span>
                                          </div>
                                        </div>
                                      </td>
                                      <td>
                                        <div class="d-flex flex-column">
                                          <span><b>Battery MCCB Status </b></span>
                                          <div class="d-flex">
                                            <div class="blinking" id="battery_mccb_input_css"></div>
                                            <span class="status-card-text-space" id="battery_mccb_input_css_text">
                                              Ok (Within Limit)
                                            </span>
                                          </div>
                                        </div>
                                      </td>
                                      <!-- <td>
                                            <div class="d-flex flex-column">
                                              <span>Main's Supply</span>
                                              <div class="d-flex">
                                                <div class="blinking"></div>
                                                <span class="status-card-text-space">
                                                  Ok (Within Limit)
                                                </span>
                                              </div>
                                            </div>
                                          </td> -->
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>

                      </div>
                    </div>
                    <div class="tab-pane fade" id="metering" role="tabpanel" aria-labelledby="nav-metering-tab">
                      <div class="containr" id="meteringIframe">

                        <!-- <include src="metering.html"></include> -->
                        <iframe src="metering.html" name="metering" title="Metering" width="100%" style="height: 115vh;"
                          scrolling="no" allowfullscreen>
                        </iframe>

                      </div>
                    </div>
                    <div class="tab-pane fade" id="eventlog" role="tabpanel" aria-labelledby="nav-eventlog-tab">
                      <!-- <include src="eventlog.html"></include> -->
                      <iframe src="eventlog.html" frameborder="0"></iframe>
                    </div>
                    <div class="tab-pane fade" id="datalog" role="tabpanel" aria-labelledby="nav-datalog-tab">
                      <!-- <include src="datalog.html"></include> -->
                      <iframe src="datalog.html" frameborder="0"></iframe>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>

</html>


<script type="text/javascript" src="./ups.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
<script>

  //write a code for 

  (function () {
    let hashTag = new URL(document.URL).hash;
    let tagName;
    if (!hashTag || hashTag == '#status') {
      tagName = 'status';
      setTimeout(() => {
        window.scrollTo({ top: 0 });
      }, 100);
    }
    else if (hashTag == '#metering') {
      tagName = 'metering';
      showTab(tagName);
    }
    else if (hashTag == '#eventlog') tagName = 'eventlog';
    else if (hashTag == '#datalog') tagName = 'datalog';
    changeUrlParams(tagName)
  })();

  function changeUrlParams(tabName) {
    makeTabActive(tabName);
    if (tabName === 'status') connect();
  }

  function showTab(tabName) {
    changeUrlParams('metering');

    let iframeName = tabName + 'Iframe';
    // document.getElementById('meteringIframe').innerHTML = '<iframe src="metering.html" id="meteringIframe" name="metering" title="Metering" width="100%" style="height: 115vh;" allowfullscreen></iframe>';

    // call the loadIframe function when needed
    // loadIframe();

    setTimeout(() => {
      window.scrollTo({ top: 0 });
    }, 100);
  }


  // var iframeContainer = document.getElementById('meteringIframe');
  // var iframe;

  // function loadIframe() {
  //   // var iframeContainer = document.getElementById('meteringIframe');
  //   // var iframe;
  //   console.log('iframe')
  //   console.log(iframe)
  //   if (!iframe) {
  //     // create the iframe element
  //     iframe = document.createElement('iframe');
  //     iframe.src = 'metering.html';
  //     iframe.width = '100%';
  //     iframe.height = '500';
  //     iframeContainer.appendChild(iframe);
  //   } else {
  //   }
  // }


  /********************** Date & Time --- start ****************/
  var today = new Date();
  var dd = today.getDate();
  var mm = today.getMonth() + 1;
  var yyyy = today.getFullYear();
  if (dd < 10) {
    dd = '0' + dd;
  }
  if (mm < 10) {
    mm = '0' + mm;
  }
  var curr_date = dd + '/' + mm + '/' + yyyy;

  setInterval(function () {
    const curr_time = new Date().toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/, "$1");
    document.getElementById('ups_time').innerHTML = curr_time;
  }, 1000);
  document.getElementById('ups_date').innerHTML = curr_date;
  /********************** Date & Time --- end ****************/


  connect();

  function connect() {
    // var url = 'ws://ups-gateway:80/ws';
    var url = 'ws://localhost:8080';
    var ws = new WebSocket(url);

    ws.onopen = function () {
      ws.send('Status WS Started');
      console.log("Web socket is connected in index.html");

      ws.onclose = function (event) {
        console.log("WebSocket is closed now.");
        setTimeout(function () {
          connect();
        }, 2000);
      };

    };

    ws.onmessage = async function (evt) {
      // console.log('event Data in index', evt.data);
      var ups_data = await UPS_MSG(evt.data);

      console.log("ups_data in index");
      console.log(ups_data);
      // return false;

      let titleStr;
      let UI_Alarm = ups_data?.UI_Alarm;
      let Rectifier_Alarm1 = ups_data?.Rectifier_Alarm1;
      let Rectifier_Alarm2 = ups_data?.Rectifier_Alarm2;
      let Inverter_Alarm1 = ups_data?.Inverter_Alarm1;
      let Inverter_Alarm2 = ups_data?.Inverter_Alarm2;
      let Battery_Alarm1 = ups_data?.Battery_Alarm1;
      let Inverter_Alarm3 = ups_data?.Inverter_Alarm3;
      let Input_Alarm_0 = ups_data?.Input_Alarm_0;
      let Can_Alarm1 = ups_data?.Can_Alarm1;
      let Rectifier_Status1 = ups_data?.Rectifier_Status1;
      let Inverter_Status1 = ups_data?.Inverter_Status1;
      let Battery_Status1 = ups_data?.Battery_Status1;

      let Bypass_Input_text;
      let Bypass_Input_text_class;

      let mainsupply_Input_text;
      let mainsupply_Input_text_class;

      let rectifier_Input_text;
      let rectifier_Input_text_class;

      let battery_Input_text;
      let battery_Input_text_class;

      let battery_charging_Input_text;
      let battery_charging_Input_text_class;

      let inverter_Input_text;
      let inverter_Input_text_class;

      let load_inverter_Input_text;
      let load_inverter_Input_text_class;

      let synchronization_Input_text;
      let synchronization_Input_text_class;

      let common_alarm_Input_text;
      let common_alarm_Input_text_class;

      let battery_mccb_Input_text;
      let battery_mccb_Input_text_class;


      if (ups_data.DATA_NAME === 'status') {
        titleStr = (ups_data.DATA_TYPE === 1) ? 'i4ET (1-PHASE UPS)' : 'i6ET (3-PHASE UPS)';
        document.getElementById('titleStr').innerText = titleStr;

        /******************** bypass input **************************/

        if (Inverter_Alarm1.BIT_2 === 1 || Inverter_Alarm1.BIT_3 === 1) {
          Bypass_Input_text = 'Out of Range';
          Bypass_Input_text_class = 'blinking-red';
        } else if (Inverter_Status1.BIT_6 === 0) {
          Bypass_Input_text = 'Absent';
          Bypass_Input_text_class = 'dot-red';
        } else if (Inverter_Status1.BIT_6 === 1) {
          Bypass_Input_text = 'Within range';
          Bypass_Input_text_class = 'dot-green';
        }

        document.getElementById('bypass_input_css').classList.remove(...document.getElementById('bypass_input_css').classList);
        document.getElementById('bypass_input_css').classList.add(Bypass_Input_text_class);
        document.getElementById('bypass_input_css_text').innerText = Bypass_Input_text;

        /******************** bypass input **************************/


        /******************** main supply **************************/

        if (Rectifier_Alarm1.BIT_6 === 1) {
          mainsupply_Input_text = 'Absent';
          mainsupply_Input_text_class = 'dot-gray';
        } else if (Rectifier_Alarm1.BIT_2 === 1 || Rectifier_Alarm1.BIT_3 === 1) {
          mainsupply_Input_text = 'Out of Range';
          mainsupply_Input_text_class = 'blinking-green';
        } else if (Rectifier_Alarm1.BIT_6 === 0) {
          mainsupply_Input_text = 'Within range';
          mainsupply_Input_text_class = 'dot-green';
        }

        document.getElementById('mainsupply_input_css').classList.remove(...document.getElementById('mainsupply_input_css').classList);
        document.getElementById('mainsupply_input_css').classList.add(mainsupply_Input_text_class);
        document.getElementById('mainsupply_input_css_text').innerText = mainsupply_Input_text;
        /************************* main supply *****************************/


        /******************** rectifier operation **************************/

        if (Rectifier_Alarm1.BIT_0 === 1) {
          rectifier_Input_text = 'Trip';
          rectifier_Input_text_class = 'blinking-red';
        } else if (Rectifier_Status1.BIT_1 === 0) {
          rectifier_Input_text = 'OFF';
          rectifier_Input_text_class = 'dot-gray';
        } else if (Rectifier_Status1.BIT_1 === 1) {
          rectifier_Input_text = 'ON';
          rectifier_Input_text_class = 'dot-green';
        }

        document.getElementById('rectifier_input_css').classList.remove(...document.getElementById('rectifier_input_css').classList);
        document.getElementById('rectifier_input_css').classList.add(rectifier_Input_text_class);
        document.getElementById('rectifier_input_css_text').innerText = rectifier_Input_text;
        /******************** rectifier operation **************************/


        /******************** booster operation **************************/
        if (Battery_Alarm1.BIT_5 === 1) {
          battery_Input_text = 'Trip';
          battery_Input_text_class = 'blinking-red';
        } else if (Battery_Status1.BIT_2 === 0) {
          battery_Input_text = 'OFF';
          battery_Input_text_class = 'dot-gray';
        } else if (Battery_Status1.BIT_2 === 1) {
          battery_Input_text = 'ON';
          battery_Input_text_class = 'dot-red';
        }

        document.getElementById('battery_input_css').classList.remove(...document.getElementById('battery_input_css').classList);
        document.getElementById('battery_input_css').classList.add(battery_Input_text_class);
        document.getElementById('battery_input_css_text').innerText = battery_Input_text;
        /******************** booster operation **************************/

        /******************** charger operation **************************/
        if (Battery_Status1.BIT_3 === 1) {
          battery_charging_Input_text = 'Trip';
          battery_charging_Input_text_class = 'blinking-red';
        } else if (Battery_Status1.BIT_6 === 1) {
          battery_charging_Input_text = 'Boost charge';
          battery_charging_Input_text_class = 'dot-red';
        } else if (Battery_Status1.BIT_5 === 1) {
          battery_charging_Input_text = 'Float Charge';
          battery_charging_Input_text_class = 'dot-green';
        } else if (Battery_Status1.BIT_1 === 0) {
          battery_charging_Input_text = 'OFF';
          battery_charging_Input_text_class = 'dot-gray';
        }

        document.getElementById('battery_charging_input_css').classList.remove(...document.getElementById('battery_charging_input_css').classList);
        document.getElementById('battery_charging_input_css').classList.add(battery_charging_Input_text_class);
        document.getElementById('battery_charging_input_css_text').innerText = battery_charging_Input_text;
        /******************** charger operation **************************/

        /******************** inverter operation **************************/
        if (Inverter_Alarm1.BIT_6 === 1) {
          inverter_Input_text = 'Trip';
          inverter_Input_text_class = 'blinking-red';
        } else if (Inverter_Status1.BIT_0 === 0) {
          inverter_Input_text = 'OFF';
          inverter_Input_text_class = 'dot-red';
        } else if (Inverter_Status1.BIT_0 === 1) {
          inverter_Input_text = 'ON';
          inverter_Input_text_class = 'dot-green';
        }

        document.getElementById('inverter_input_css').classList.remove(...document.getElementById('inverter_input_css').classList);
        document.getElementById('inverter_input_css').classList.add(inverter_Input_text_class);
        document.getElementById('inverter_input_css_text').innerText = inverter_Input_text;
        /******************** inverter operation **************************/

        /******************** load on inverter operation **************************/
        if (Inverter_Status1.BIT_4 === 1) {
          load_inverter_Input_text = 'Inverter SSW ON';
          load_inverter_Input_text_class = 'dot-green';
        } else if (Inverter_Status1.BIT_4 === 0) {
          load_inverter_Input_text = 'Inverter SSW OFF';
          load_inverter_Input_text_class = 'dot-gray';
        }

        document.getElementById('load_inverter_input_css').classList.remove(...document.getElementById('load_inverter_input_css').classList);
        document.getElementById('load_inverter_input_css').classList.add(load_inverter_Input_text_class);
        document.getElementById('load_inverter_input_css_text').innerText = load_inverter_Input_text;
        /******************** load on inverter operation **************************/

        /******************** load on bypass operation **************************/
        if (Inverter_Status1.BIT_3 === 1) {
          load_bypass_Input_text = 'Bypass SSW ON';
          load_bypass_Input_text_class = 'dot-red';
        } else if (Inverter_Status1.BIT_3 === 0) {
          load_bypass_Input_text = 'Bypass SSW OFF';
          load_bypass_Input_text_class = 'dot-gray';
        }

        document.getElementById('load_bypass_input_css').classList.remove(...document.getElementById('load_bypass_input_css').classList);
        document.getElementById('load_bypass_input_css').classList.add(load_bypass_Input_text_class);
        document.getElementById('load_bypass_input_css_text').innerText = load_bypass_Input_text;
        /******************** load on bypass operation **************************/


        /******************** synchronization **************************/
        if (Inverter_Status1.BIT_8 === 1) {
          synchronization_Input_text = 'Sync';
          synchronization_Input_text_class = 'dot-yellow';
        } else if (Inverter_Status1.BIT_8 === 0) {
          synchronization_Input_text = 'No sync';
          synchronization_Input_text_class = 'blinking-yellow';
        }

        document.getElementById('synchronization_input_css').classList.remove(...document.getElementById('synchronization_input_css').classList);
        document.getElementById('synchronization_input_css').classList.add(synchronization_Input_text_class);
        document.getElementById('synchronization_input_css_text').innerText = synchronization_Input_text;
        /******************** synchronization **************************/

        /******************** battery mccb status  **************************/
        if (UI_Alarm.BIT_5 === 1) {
          battery_mccb_Input_text = 'Battery MCCB is OFF';
          battery_mccb_Input_text_class = 'blinking-red';
        } else if (UI_Alarm.BIT_5 === 0) {
          battery_mccb_Input_text = 'Battery MCCB is ON';
          battery_mccb_Input_text_class = 'dot-green';
        }

        document.getElementById('battery_mccb_input_css').classList.remove(...document.getElementById('battery_mccb_input_css').classList);
        document.getElementById('battery_mccb_input_css').classList.add(battery_mccb_Input_text_class);
        document.getElementById('battery_mccb_input_css_text').innerText = battery_mccb_Input_text;
        /******************** battery mccb status **************************/


        /******************** common alarm indication  **************************/
        if (UI_Alarm.BIT_0 === 0 && UI_Alarm.BIT_1 === 0 && UI_Alarm.BIT_2 === 0 && UI_Alarm.BIT_3 === 0 && UI_Alarm.BIT_4 === 0 && UI_Alarm.BIT_5 === 0 && UI_Alarm.BIT_6 === 0 && UI_Alarm.BIT_7 === 0 && UI_Alarm.BIT_8 === 0 && UI_Alarm.BIT_9 === 0 && UI_Alarm.BIT_10 === 0 && UI_Alarm.BIT_11 === 0 && UI_Alarm.BIT_12 === 0 && UI_Alarm.BIT_13 === 0 && UI_Alarm.BIT_14 === 0 && UI_Alarm.BIT_15 === 0 && Rectifier_Alarm1.BIT_0 === 0 && Rectifier_Alarm1.BIT_1 === 0 && Rectifier_Alarm1.BIT_2 === 0 && Rectifier_Alarm1.BIT_3 === 0 && Rectifier_Alarm1.BIT_4 === 0 && Rectifier_Alarm1.BIT_5 === 0 && Rectifier_Alarm1.BIT_6 === 0 && Rectifier_Alarm1.BIT_7 === 0 && Rectifier_Alarm1.BIT_8 === 0 && Rectifier_Alarm1.BIT_9 === 0 && Rectifier_Alarm1.BIT_10 === 0 && Rectifier_Alarm1.BIT_11 === 0 && Rectifier_Alarm1.BIT_12 === 0 && Rectifier_Alarm1.BIT_13 === 0 && Rectifier_Alarm1.BIT_14 === 0 && Rectifier_Alarm1.BIT_15 === 0 && Rectifier_Alarm2.BIT_0 === 0 && Rectifier_Alarm2.BIT_1 === 0 && Rectifier_Alarm2.BIT_2 === 0 && Rectifier_Alarm2.BIT_3 === 0 && Rectifier_Alarm2.BIT_4 === 0 && Rectifier_Alarm2.BIT_5 === 0 && Rectifier_Alarm2.BIT_6 === 0 && Rectifier_Alarm2.BIT_7 === 0 && Rectifier_Alarm2.BIT_8 === 0 && Rectifier_Alarm2.BIT_9 === 0 && Rectifier_Alarm2.BIT_10 === 0 && Rectifier_Alarm2.BIT_11 === 0 && Rectifier_Alarm2.BIT_12 === 0 && Rectifier_Alarm2.BIT_13 === 0 && Rectifier_Alarm2.BIT_14 === 0 && Rectifier_Alarm2.BIT_15 === 0 && Inverter_Alarm1.BIT_0 === 0 && Inverter_Alarm1.BIT_1 === 0 && Inverter_Alarm1.BIT_2 === 0 && Inverter_Alarm1.BIT_3 === 0 && Inverter_Alarm1.BIT_4 === 0 && Inverter_Alarm1.BIT_5 === 0 && Inverter_Alarm1.BIT_6 === 0 && Inverter_Alarm1.BIT_7 === 0 && Inverter_Alarm1.BIT_8 === 0 && Inverter_Alarm1.BIT_9 === 0 && Inverter_Alarm1.BIT_10 === 0 && Inverter_Alarm1.BIT_11 === 0 && Inverter_Alarm1.BIT_12 === 0 && Inverter_Alarm1.BIT_13 === 0 && Inverter_Alarm1.BIT_14 === 0 && Inverter_Alarm1.BIT_15 === 0 && Inverter_Alarm2.BIT_0 === 0 && Inverter_Alarm2.BIT_1 === 0 && Inverter_Alarm2.BIT_2 === 0 && Inverter_Alarm2.BIT_3 === 0 && Inverter_Alarm2.BIT_4 === 0 && Inverter_Alarm2.BIT_5 === 0 && Inverter_Alarm2.BIT_6 === 0 && Inverter_Alarm2.BIT_7 === 0 && Inverter_Alarm2.BIT_8 === 0 && Inverter_Alarm2.BIT_9 === 0 && Inverter_Alarm2.BIT_10 === 0 && Inverter_Alarm2.BIT_11 === 0 && Inverter_Alarm2.BIT_12 === 0 && Inverter_Alarm2.BIT_13 === 0 && Inverter_Alarm2.BIT_14 === 0 && Inverter_Alarm2.BIT_15 === 0 && Battery_Alarm1.BIT_0 === 0 && Battery_Alarm1.BIT_1 === 0 && Battery_Alarm1.BIT_2 === 0 && Battery_Alarm1.BIT_3 === 0 && Battery_Alarm1.BIT_4 === 0 && Battery_Alarm1.BIT_5 === 0 && Battery_Alarm1.BIT_6 === 0 && Battery_Alarm1.BIT_7 === 0 && Battery_Alarm1.BIT_8 === 0 && Battery_Alarm1.BIT_9 === 0 && Battery_Alarm1.BIT_10 === 0 && Battery_Alarm1.BIT_11 === 0 && Battery_Alarm1.BIT_12 === 0 && Battery_Alarm1.BIT_13 === 0 && Battery_Alarm1.BIT_14 === 0 && Battery_Alarm1.BIT_15 === 0 && Inverter_Alarm3.BIT_0 === 0 && Inverter_Alarm3.BIT_1 === 0 && Inverter_Alarm3.BIT_2 === 0 && Inverter_Alarm3.BIT_3 === 0 && Inverter_Alarm3.BIT_4 === 0 && Inverter_Alarm3.BIT_5 === 0 && Inverter_Alarm3.BIT_6 === 0 && Inverter_Alarm3.BIT_7 === 0 && Inverter_Alarm3.BIT_8 === 0 && Inverter_Alarm3.BIT_9 === 0 && Inverter_Alarm3.BIT_10 === 0 && Inverter_Alarm3.BIT_11 === 0 && Inverter_Alarm3.BIT_12 === 0 && Inverter_Alarm3.BIT_13 === 0 && Inverter_Alarm3.BIT_14 === 0 && Inverter_Alarm3.BIT_15 === 0 && Input_Alarm_0.BIT_0 === 0 && Input_Alarm_0.BIT_1 === 0 && Input_Alarm_0.BIT_2 === 0 && Input_Alarm_0.BIT_3 === 0 && Input_Alarm_0.BIT_4 === 0 && Input_Alarm_0.BIT_5 === 0 && Input_Alarm_0.BIT_6 === 0 && Input_Alarm_0.BIT_7 === 0 && Input_Alarm_0.BIT_8 === 0 && Input_Alarm_0.BIT_9 === 0 && Input_Alarm_0.BIT_10 === 0 && Input_Alarm_0.BIT_11 === 0 && Input_Alarm_0.BIT_12 === 0 && Input_Alarm_0.BIT_13 === 0 && Input_Alarm_0.BIT_14 === 0 && Input_Alarm_0.BIT_15 === 0 && Can_Alarm1.BIT_0 === 0 && Can_Alarm1.BIT_1 === 0 && Can_Alarm1.BIT_2 === 0 && Can_Alarm1.BIT_3 === 0 && Can_Alarm1.BIT_4 === 0 && Can_Alarm1.BIT_5 === 0 && Can_Alarm1.BIT_6 === 0 && Can_Alarm1.BIT_7 === 0 && Can_Alarm1.BIT_8 === 0 && Can_Alarm1.BIT_9 === 0 && Can_Alarm1.BIT_10 === 0 && Can_Alarm1.BIT_11 === 0 && Can_Alarm1.BIT_12 === 0 && Can_Alarm1.BIT_13 === 0 && Can_Alarm1.BIT_14 === 0 && Can_Alarm1.BIT_15 === 0) {
          common_alarm_Input_text = 'No Alarm';
          common_alarm_Input_text_class = 'dot-gray';
        } else {
          common_alarm_Input_text = 'Any alarm present';
          common_alarm_Input_text_class = 'blinking-red';
        }

        document.getElementById('common_alarm_input_css').classList.remove(...document.getElementById('common_alarm_input_css').classList);
        document.getElementById('common_alarm_input_css').classList.add(common_alarm_Input_text_class);
        document.getElementById('common_alarm_input_css_text').innerText = common_alarm_Input_text;
        /******************** common alarm indication **************************/





      }
    }

    // ws.onclose = function (event) {
    //   console.log("WebSocket is closed now.");
    //   setTimeout(function () {
    //     connect();
    //   }, 5000);
    // };

  }
</script>